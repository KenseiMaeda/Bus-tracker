<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>3Dインフラモデル（つくば市）</title>

  <!-- 404を出さないダミーfavicon（必要なら本物に差し替え） -->
  <link rel="icon" href="data:,">
  <link rel="preconnect" href="https://api.maptiler.com">

  <!-- 外部CSS -->
  <link rel="stylesheet" href="./styles.css" />

  <!-- MapLibre & deck.gl（グローバル） -->
  <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
  <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet"/>
  <script src="https://unpkg.com/deck.gl@8.9.36/dist.min.js"></script>
</head>

<body>
  <header>
    <div><b>3Dインフラモデル（つくば市）</b></div>
    <div id="conn" class="muted">接続中</div>
  </header>

  <div id="map"></div>

  <div class="panel">
    <div class="row" style="margin-bottom:6px">
      <label>向き:
        <select id="dir">
          <option value="all">全て</option>
          <option value="outer">外回り</option>
          <option value="inner">内回り</option>
        </select>
      </label>
      <label>目的停留所:
        <select id="targetStop"></select>
      </label>
      <span id="last-updated" class="muted">—</span>
      <span id="err" class="muted"></span>
    </div>

    <div id="result" class="muted" style="margin:6px 0">—</div>
    <div id="bus-list"></div>
  </div>

  <script type="module" src="./js/app.js"></script>
</body>
</html>
